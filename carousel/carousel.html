<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
      }
      .title {
        display: flex;
        justify-content: center;
      }
      .container__carousel {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .carousel {
        overflow: hidden;
        width: 500px;
        height: 300px;
        margin: 5%;
      }
      .carousel--hidden {
        display: flex;
        transition: 0.4s ease;
      }
      .carousel--hidden__image {
        width: 400px;
        height: 300px;
      }
    </style>
  </head>
  <!-- https://cdn.discordapp.com/attachments/1063314297486323712/1084481812841115648/bf22e255f87f3361.png
  https://cdn.discordapp.com/attachments/1063314297486323712/1084447459922690128/image.png -->

  <body>
    <!-- 제목 -->
    <div class="title"><h1>안녕하세요, 우리는 햇님반입니다!</h1></div>

    <!-- btn + carousel + btn -->
    <div class="container__carousel">
      <!-- button1 -->
      <div>
        <button class="button__before">left</button>
      </div>

      <!-- carousel -->
      <div class="carousel">
        <div class="carousel--hidden">
          <!-- .carousel--hidden을 div로 한 번 더 감싸서 이미지 한 장만 나오게 가려줄 겁니다. -->
          <!-- 이미지 크기를 400 300--><!-- carousel 내부에서 가로로 정렬된 image -->
          <img
            class="carousel--hidden__image"
            src="https://images.unsplash.com/photo-1677594333739-b6b9a2d1dc6e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY3ODc4NjcwNw&ixlib=rb-4.0.3&q=80&w=1080"
            alt="" />
          <img
            class="carousel--hidden__image"
            src="https://images.unsplash.com/photo-1677269309681-8ac2821d250a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY3ODc4NjQ3NQ&ixlib=rb-4.0.3&q=80&w=1080"
            alt="" />
          <img
            class="carousel--hidden__image"
            src="https://images.unsplash.com/photo-1676629650907-d50f2f27db20?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY3ODc4NjQ4Ng&ixlib=rb-4.0.3&q=80&w=1080"
            alt="" />
          <img
            class="carousel--hidden__image"
            src="https://images.unsplash.com/photo-1677594333739-b6b9a2d1dc6e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY3ODc4NjcwNw&ixlib=rb-4.0.3&q=80&w=1080"
            alt="" />
          <img
            class="carousel--hidden__image"
            src="https://images.unsplash.com/photo-1677269309681-8ac2821d250a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxfDB8MXxyYW5kb218MHx8fHx8fHx8MTY3ODc4NjQ3NQ&ixlib=rb-4.0.3&q=80&w=1080"
            alt="" />
        </div>
      </div>

      <!-- button2 -->
      <div>
        <button class="button__after">right</button>
      </div>
    </div>

    <!-- js -->
    <script>
      const buttonBefore = document.querySelector(".button__before");
      const buttonAfter = document.querySelector(".button__after");
      const carousel = document.querySelector(".carousel--hidden");
      const images = document.querySelectorAll(".carousel--hidden__image");
      const imgTag = document.querySelectorAll("img");

      let index = 1; // 이미지의 위치를 지정하는 변수
      let total = images.length; // 이미지 총 개수
      let imgWidth = 400;

      // imgWidth를 완벽히 구현을 하고

      // 액자의 길이를 변수로 빼서 구현하고
      // 추가 변수 : (액자 - imgwidth ) / 2

      carousel.style.transform = `translate3d(-${imgWidth * index}px, 0,0)`; // 인덱스 값에 맞게 사진 위치를 이동
      buttonAfter.addEventListener("click", () => {
        // 클릭을 한 순간 >> after를 누르면 위치가 이동한다.
        // 페이지가 4장 0, 1, 2, 3   => index가 0, 1, 2 일때 아래 if문이 실행 위치가 3까지는 도달
        if (index < total - 1) {
          index += 1;
          carousel.style.transform = `translate3d(-${imgWidth * index}px, 0,0)`;
        }
        if (index === total - 1) {
          index = 1;
          carousel.style.transform = `translate3d(-${imgWidth * index}px, 0,0)`;
        }
        console.log(index);
      });

      buttonBefore.addEventListener("click", () => {
        // click이란 이벤트가 발생됐을 때 {}을 구현, ()는 몰라
        // 0 1 2 3 4
        if (index > 0) {
          index -= 1;
          carousel.style.transform = `translate3d(-${imgWidth * index}px, 0,0)`;
        }
        if (index === 0) {
          index = total - 2;
          carousel.style.transform = `translate3d(-${imgWidth * index}px, 0,0)`;
        }
        console.log(index);
      });
      // [3월 16일] 완성된 구현
      // 현재 상황(무한루프는 돌아간다)
      // after 버튼, [4]에서 [0]으로 돌아간다.
      // before 버튼(미완성) [0]에서 버튼을 2번 눌렀을 때, [3]으로 감

      // 내일 목표
      // before 버튼 완성하기(하나라도 원하는대로)

      // [3월 17일] 완성된 구현
      // 이미지 3개 노출 화면으로 무한루프 구현

      // 다음 목표
      // imgWidth를 완벽히 구현을 하고
      // 추가 변수 : (액자 - imgwidth ) / 2
      // 액자의 길이를 변수로 빼서 구현
      // 자연스러운 순환
    </script>
  </body>
</html>
